"use strict";(self.webpackChunkredback_documentation=self.webpackChunkredback_documentation||[]).push([[8614],{61412:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"project-2/Device Design/Board_shakedown","title":"Board_shakedown","description":"Last updated by \'12/01/2025\'","source":"@site/docs/project-2/Device Design/Board_shakedown.md","sourceDirName":"project-2/Device Design","slug":"/project-2/Device Design/Board_shakedown","permalink":"/redback-documentation/docs/project-2/Device Design/Board_shakedown","draft":false,"unlisted":false,"editUrl":"https://github.com/Redback-Operations/redback-documentation/blob/main/docs/project-2/Device Design/Board_shakedown.md","tags":[],"version":"current","frontMatter":{"sidebar-position":3},"sidebar":"tutorialSidebar","previous":{"title":"Firebase","permalink":"/redback-documentation/docs/project-2/Device Design/Firebase"},"next":{"title":"Chat Bot","permalink":"/redback-documentation/docs/category/chat-bot"}}');var o=a(74848),i=a(28453);const s={"sidebar-position":3},r="Board Validation Testing",d={},h=[{value:"1. It will literally burn you",id:"1-it-will-literally-burn-you",level:2},{value:"2. No power over USB",id:"2-no-power-over-usb",level:2},{value:"3. Serial Communications dies after roughly 3 minutes",id:"3-serial-communications-dies-after-roughly-3-minutes",level:2},{value:"4. The processor is too weak and too expensive",id:"4-the-processor-is-too-weak-and-too-expensive",level:2},{value:"Design Flaws",id:"design-flaws",level:2},{value:"Advice / Ways forward",id:"advice--ways-forward",level:2}];function l(e){const t={a:"a",admonition:"admonition",br:"br",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Last updated by:"})," Lachlan, ",(0,o.jsx)(t.strong,{children:"Last updated on:"})," '12/01/2025'"]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Last updated by:"})," Lachlan, ",(0,o.jsx)(t.strong,{children:"Last updated on:"})," '12/01/2025'"]}),"\n",(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"board-validation-testing",children:"Board Validation Testing"})}),"\n",(0,o.jsx)(t.p,{children:"The Custom PCB was received from the factory at the end of Week 11 T2-24\r\nUnfortunately this means that the Senior that designed the board had graduated from the project by the time it was being worked upon, and he could not learn from the mistakes made on it."}),"\n",(0,o.jsxs)(t.p,{children:["Here is an overview of the ",(0,o.jsx)(t.em,{children:"'quirks'"})," of the device."]}),"\n",(0,o.jsx)(t.h2,{id:"1-it-will-literally-burn-you",children:"1. It will literally burn you"}),"\n",(0,o.jsxs)(t.p,{children:["In each example provided in ",(0,o.jsx)(t.a,{href:"https://www.analog.com/media/en/technical-documentation/data-sheets/TMP35_36_37.pdf",children:"the datasheet of the TMP36"})," a 100nF capacitor is placed in front of the V",(0,o.jsx)("sub",{children:"in"})," pin.\r\n",(0,o.jsx)(t.img,{alt:"An extract of the sensor datasheet explaining why a capacitor is needed on the V in pin",src:a(52738).A+"",width:"437",height:"614"})]}),"\n",(0,o.jsx)(t.p,{children:"This was omitted from the PCB design."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"The board schematic showing the leads of the pin and no capacitor",src:a(91084).A+"",width:"555",height:"433"})}),"\n",(0,o.jsx)(t.p,{children:"I believe this is why after about 10 seconds of being plugged in, the sensor becomes too hot to touch.\r\nThis may also be compounding other issues noted below."}),"\n",(0,o.jsx)(t.h2,{id:"2-no-power-over-usb",children:"2. No power over USB"}),"\n",(0,o.jsx)(t.p,{children:"The board is only able to receive power via the LiPo JST connectors. Therefore, when attempting to verify that my bootloader burn worked I was a bit confused as to why after seemingly successfully completing it according to the terminal output, I saw no communication between Lachesis and my computer. After some time of steam coming out of my ears pop-eye style I remembered that in T2 I noticed that the board didn't have a charging circuit included for the LiPos to be able to charge over USB. We bought some tiny usb LiPo mediator chips from Core-Electronics to bodge it and I spent a considerable amount of time trying to hack it in but to no avail."}),"\n",(0,o.jsx)(t.p,{children:"Therefore, if you want to program the board, you need to be draining the battery. Or at least you would if it weren't for..."}),"\n",(0,o.jsx)(t.h2,{id:"3-serial-communications-dies-after-roughly-3-minutes",children:"3. Serial Communications dies after roughly 3 minutes"}),"\n",(0,o.jsx)(t.p,{children:"I don't understand why but after performing the ritual to interface with the board, I found that I kept losing the COM port.\r\nI did a few tests and found that it pretty consistently turns off after around 2 minutes and 45 seconds and if you do it in quick succession, the time before comms are lost is lessened. This leads me to believe that the heat from the temperature sensor (which is located next to the USB socket by the by) is increasing the resistance of the traces to the point where not enough current is available to maintain the connection."}),"\n",(0,o.jsx)(t.h2,{id:"4-the-processor-is-too-weak-and-too-expensive",children:"4. The processor is too weak and too expensive"}),"\n",(0,o.jsx)(t.p,{children:"It can barely run the display by itself. It will probably struggle trying to run both at the same time but when I went to test it I cracked the screen because it turns out the displays don't have caps at the end of the threads either (I ordered replacements)"}),"\n",(0,o.jsx)(t.h2,{id:"design-flaws",children:"Design Flaws"}),"\n",(0,o.jsx)(t.p,{children:"These aren't necessarily dealbreakers, but they are still gripes"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"The wearable looks more like a house arrest ankle monitor than a smartwatch"}),"\n",(0,o.jsx)(t.li,{children:"In an effort to minimise the ankle monitor vibe, I was trying to keep the case as compact as possible. However, some layout decisions made that a fool's errand, namely internal interfaces (the JST plugs to the batteries) share a wall with the small hardware switch which must be accessible to turn the board on. This means that unless the case sticks out a bit to provide a channel for the power cable to run through, the cables have to stick out the side and feed back into the watch. The edge with the push button and USB plug has the EXACT same issue. I tried to leave it with the librarian because I was working late to get it ready for innofes and didn't think I'd be able to wake up early enough to hand it to Manan and the librarian / security flat out refused because it \"Looks sketchy as hell\""}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"advice--ways-forward",children:"Advice / Ways forward"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:"Fix the Board.\r\nThis is probably a non-starter because we don't even have the source files for the device PCB. I've found the problems that make this a pain to deal and identified the issues.\r\nSpecifically:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Add the 0.1 \u03bcF capacitor"}),"\n",(0,o.jsx)(t.li,{children:"Embed the makerverse 3.3v battery charger module into the design. Incorporate the USB V+ line of the micro USB"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:["New Version",(0,o.jsx)(t.br,{}),"\n","My biased opinion is that this is the best way forward.",(0,o.jsx)(t.br,{}),"\n","The challenge of hardware design is still present as are the risks, but I believe that if the design philosophy pivots toward making a sensor shield for an off the shelf display with an embedded microcontroller, we can maintain the prestige of making custom hardware while avoiding the pitfalls of the previous iteration.",(0,o.jsx)(t.br,{}),"\n","It also affords the opportunity for a cheaper and more modular design. I'm toying with this idea for practice / fun using a ",(0,o.jsx)(t.a,{href:"https://www.waveshare.com/wiki/RP2040-LCD-1.28",children:"waveshare display with an embedded RP2040"})," and if successful I'll document the design and leave it in the Redback Locker for you to continue work on."]}),"\n",(0,o.jsx)(t.p,{children:"If custom hardware is to be designed and fabricated by the university please get it checked by someone with experience manufacturing custom PCBs. The mechatronics course has a PCB Fab Lab which so far as I can tell doesn't have the capability to do custom SMT level boards but at least they'll be able to tell you if you've made an obvious mistake."}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:["Pivot the project to a Consumer Smartwatch App",(0,o.jsx)(t.br,{}),"\n","Considering the relative lack of popularity of IoT as a discipline compared to Data Science, Security and Software Development, as well as the amount of stuff outside the of the scope of the course required to fabricate hardware, it may be worth considering the project pivot toward taking a consumer smartwatch and developing an app based on the wearable version of a mobile operating systems. The advantage here would be it might be quicker to get people making technical contributions and the hardware is known to work and will be more sophisticated from a technical point of view, and the fact that the hardware / embedded specialist(s) spend a trimester learning the project and a trimester working on it only to leave will be less of an issue.",(0,o.jsx)(t.br,{}),"\n","The downside is that the project will be limited to the sensor apparatus that Apple, Google, Samsung, etc. deem consumers want, rather than catered to the data capture work that would be beneficial to the project."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["Ultimately, you should collectively make the call based on the talents available to you as well as the expected talents of those that come after you.",(0,o.jsx)(t.br,{}),"\n","In my experience we had 3 people (2 Sr, 1 Jr) in the IoT team in T2-24 and 2 people in T3-24 (1 Sr, 1 Jr)."]}),"\n",(0,o.jsx)(t.admonition,{type:"info",children:(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Document Creation:"})," 15 December 2024. ",(0,o.jsx)(t.strong,{children:"Last Edited:"})," 08 January 2025. ",(0,o.jsx)(t.strong,{children:"Authors:"})," Lachlan Costigan"]})})]})}function c(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},52738:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/TMP36Cap_DS-7389157e3bab33869d34dd321e368df2.png"},91084:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/TMP36Schem-1c055ba1ff37162405ffaa1e53d955ed.png"},28453:(e,t,a)=>{a.d(t,{R:()=>s,x:()=>r});var n=a(96540);const o={},i=n.createContext(o);function s(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);