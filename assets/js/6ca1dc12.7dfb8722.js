"use strict";(self.webpackChunkredback_documentation=self.webpackChunkredback_documentation||[]).push([[4666],{30100:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>c,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"project-5/AWS/Policies","title":"Policies","description":"Last updated by \'18/01/2025\'","source":"@site/docs/project-5/AWS/Policies.md","sourceDirName":"project-5/AWS","slug":"/project-5/AWS/Policies","permalink":"/redback-documentation/docs/project-5/AWS/Policies","draft":false,"unlisted":false,"editUrl":"https://github.com/Redback-Operations/redback-documentation/blob/main/docs/project-5/AWS/Policies.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Implementing-AWS","permalink":"/redback-documentation/docs/project-5/AWS/Implementing-AWS"},"next":{"title":"authentication-game","permalink":"/redback-documentation/docs/project-5/authentication-game"}}');var i=s(74848),t=s(28453);const c={},o="S3 Policy and User Access Design",a={},l=[{value:"Key Concept: Policy with Dynamic Paths",id:"key-concept-policy-with-dynamic-paths",level:2},{value:"Student&#39;s Policy",id:"students-policy",level:2},{value:"Example Workflow",id:"example-workflow",level:3},{value:"Breakdown",id:"breakdown",level:3},{value:"JSON Policy for Students",id:"json-policy-for-students",level:3},{value:"Dynamic Path Based on User Login",id:"dynamic-path-based-on-user-login",level:2},{value:"Teacher&#39;s Policy",id:"teachers-policy",level:2},{value:"JSON Policy for Teachers",id:"json-policy-for-teachers",level:3},{value:"Admin&#39;s Policy",id:"admins-policy",level:2},{value:"JSON Policy for Admins",id:"json-policy-for-admins",level:3},{value:"Summary",id:"summary",level:2}];function d(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Last updated by:"})," Adityan Balamuralidharan, ",(0,i.jsx)(n.strong,{children:"Last updated on:"})," '18/01/2025'"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Last updated by:"})," Adityan Balamuralidharan, ",(0,i.jsx)(n.strong,{children:"Last updated on:"})," '18/01/2025'"]}),"\n",(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"s3-policy-and-user-access-design",children:"S3 Policy and User Access Design"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["By ",(0,i.jsx)(n.strong,{children:"Adityan Balamuralidharan"})]})}),"\n",(0,i.jsx)(n.h2,{id:"key-concept-policy-with-dynamic-paths",children:"Key Concept: Policy with Dynamic Paths"}),"\n",(0,i.jsxs)(n.p,{children:["The policy dynamically assigns permissions to each student based on their username by using the variable ",(0,i.jsx)(n.code,{children:"${aws:username}"}),". This ensures that each student can only access their own files."]}),"\n",(0,i.jsx)(n.h2,{id:"students-policy",children:"Student's Policy"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Objective"}),": Students should only be able to upload their files into their respective folders and should not have access to any data outside their folders."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"example-workflow",children:"Example Workflow"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["A student uploads ",(0,i.jsx)(n.code,{children:"Sample.txt"})," to the S3 bucket."]}),"\n",(0,i.jsxs)(n.li,{children:["After applying a specific policy, the file's path becomes:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"bugboxresourcemain/Students/Assignments/${aws:username}/Sample.txt\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"breakdown",children:"Breakdown"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bucket Name"}),": ",(0,i.jsx)(n.code,{children:"bugboxresourcemain"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"File Directory"}),": ",(0,i.jsx)(n.code,{children:"Students/Assignments/${aws:username}"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"json-policy-for-students",children:"JSON Policy for Students"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n    "Version": "2012-10-17",\r\n    "Statement": [\r\n        {\r\n            "Sid": "VisualEditor1",\r\n            "Effect": "Allow",\r\n            "Action": "s3:PutObject",\r\n            "Resource": "arn:aws:s3:::bugboxresourcesmain/Students/assignments/${aws:username}/*"\r\n        },\r\n        {\r\n            "Sid": "VisualEditor2",\r\n            "Effect": "Allow",\r\n            "Action": "s3:GetObject",\r\n            "Resource": "arn:aws:s3:::bugboxresourcesmain/Students/assignments/${aws:username}/*"\r\n        },\r\n        {\r\n            "Sid": "VisualEditor3",\r\n            "Effect": "Allow",\r\n            "Action": "s3:ListAllMyBuckets",\r\n            "Resource": "*"\r\n        }\r\n    ]\r\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"dynamic-path-based-on-user-login",children:"Dynamic Path Based on User Login"}),"\n",(0,i.jsx)(n.p,{children:"The file path dynamically changes based on the student who logs in:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["When ",(0,i.jsx)(n.code,{children:"StudentUser1"})," logs in"]}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"bugboxresourcemain/Students/Assignments/StudentUser1\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["When ",(0,i.jsx)(n.code,{children:"StudentUser2"})," logs in"]}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"bugboxresourcemain/Students/Assignments/StudentUser2\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"teachers-policy",children:"Teacher's Policy"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Objective"}),": Teachers have broader access to all directories under ",(0,i.jsx)(n.code,{children:"Assignments/"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"json-policy-for-teachers",children:"JSON Policy for Teachers"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n    "Version": "2012-10-17",\r\n    "Statement": [\r\n        {\r\n            "Effect": "Allow",\r\n            "Action": [\r\n                "s3:PutObject"\r\n            ],\r\n            "Resource": [\r\n                "arn:aws:s3:::bugboxresourcesmain/Students/assignments/*",\r\n                "arn:aws:s3:::bugboxresourcesmain/Teachers/${aws:username}/*"\r\n            ]\r\n        },\r\n        {\r\n            "Effect": "Allow",\r\n            "Action": [\r\n                "s3:GetObject"\r\n            ],\r\n            "Resource": [\r\n                "arn:aws:s3:::bugboxresourcesmain/Students/assignments/*",\r\n                "arn:aws:s3:::bugboxresourcesmain/Teachers/${aws:username}/*"\r\n            ]\r\n        },\r\n        {\r\n            "Effect": "Allow",\r\n            "Action": [\r\n                "s3:DeleteObject"\r\n            ],\r\n            "Resource": [\r\n                "arn:aws:s3:::bugboxresourcesmain/Students/assignments/*",\r\n                "arn:aws:s3:::bugboxresourcesmain/Teachers/${aws:username}/*"\r\n            ]\r\n        },\r\n        {\r\n            "Sid": "VisualEditor3",\r\n            "Effect": "Allow",\r\n            "Action": "s3:ListAllMyBuckets",\r\n            "Resource": "*"\r\n        }\r\n    ]\r\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"admins-policy",children:"Admin's Policy"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Objective"}),": Admins have unrestricted access to all directories under both ",(0,i.jsx)(n.code,{children:"Students/"})," and ",(0,i.jsx)(n.code,{children:"Teachers/"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"json-policy-for-admins",children:"JSON Policy for Admins"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n    "Version": "2012-10-17",\r\n    "Statement": [\r\n        {\r\n            "Sid": "VisualEditor1",\r\n            "Effect": "Allow",\r\n            "Action": "s3:PutObject",\r\n            "Resource": [\r\n                "arn:aws:s3:::bugboxresourcesmain/Students/*",\r\n                "arn:aws:s3:::bugboxresourcesmain/Teachers/*"\r\n            ]\r\n        },\r\n        {\r\n            "Sid": "VisualEditor2",\r\n            "Effect": "Allow",\r\n            "Action": "s3:GetObject",\r\n            "Resource": [\r\n                "arn:aws:s3:::bugboxresourcesmain/Students/*",\r\n                "arn:aws:s3:::bugboxresourcesmain/Teachers/*"\r\n            ]\r\n        },\r\n        {\r\n            "Effect": "Allow",\r\n            "Action": "s3:DeleteObject",\r\n            "Resource": [\r\n                "arn:aws:s3:::bugboxresourcesmain/Students/*",\r\n                "arn:aws:s3:::bugboxresourcesmain/Teachers/*"\r\n            ]\r\n        },\r\n        {\r\n            "Sid": "VisualEditor3",\r\n            "Effect": "Allow",\r\n            "Action": "s3:ListAllMyBuckets",\r\n            "Resource": "*"\r\n        }\r\n    ]\r\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Data Isolation"}),": Students are assigned individual directories under ",(0,i.jsx)(n.code,{children:"bugboxresourcemain/Students/Assignments/"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Dynamic Access"}),": Policies leverage ",(0,i.jsx)(n.code,{children:"${aws:username}"})," to ensure automatic and secure folder assignment based on the logged-in user."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Teacher and Admin Privileges"}),": Teachers have access to all student directories, while admins have unrestricted access to all directories."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ease of Management"}),": No manual intervention is needed to create or assign folders."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Security"}),": Unauthorized access is strictly prevented through specific policies."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>o});var r=s(96540);const i={},t=r.createContext(i);function c(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);