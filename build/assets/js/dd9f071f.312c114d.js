"use strict";(self.webpackChunkredback_documentation=self.webpackChunkredback_documentation||[]).push([[2572],{58614:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>l,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"cybersecurity/research/sonarqube/sonarqube-azure-cloud-host","title":"sonarqube-azure-cloud-host","description":"Last updated by \'12/01/2025\'","source":"@site/docs/cybersecurity/research/sonarqube/sonarqube-azure-cloud-host.md","sourceDirName":"cybersecurity/research/sonarqube","slug":"/cybersecurity/research/sonarqube/sonarqube-azure-cloud-host","permalink":"/redback-documentation/docs/cybersecurity/research/sonarqube/sonarqube-azure-cloud-host","draft":false,"unlisted":false,"editUrl":"https://github.com/Redback-Operations/redback-documentation/blob/main/docs/cybersecurity/research/sonarqube/sonarqube-azure-cloud-host.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"SonarQube Local Integration Bible","permalink":"/redback-documentation/docs/cybersecurity/research/sonarqube/SonarQube-local-setup"},"next":{"title":"sonarqube-github-intergration","permalink":"/redback-documentation/docs/cybersecurity/research/sonarqube/sonarqube-github-intergration"}}');var o=r(74848),t=r(28453);const i={sidebar_position:2},a="SonarQube Cloud Installation Guide using Azure Ubuntu Virtual Machine",c={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: System Configuration",id:"step-1-system-configuration",level:2},{value:"Step 2: Create docker-compose.yml",id:"step-2-create-docker-composeyml",level:2},{value:"Step 3: Execute the compose file using Docker compose command",id:"step-3-execute-the-compose-file-using-docker-compose-command",level:2}];function u(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Last updated by:"})," Ashan224019868, ",(0,o.jsx)(n.strong,{children:"Last updated on:"})," '12/01/2025'"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Last updated by:"})," Ashan224019868, ",(0,o.jsx)(n.strong,{children:"Last updated on:"})," '12/01/2025'"]}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsx)(n.p,{children:"Author : Ashan Ruwanpathiranage"})}),"\n",(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"sonarqube-cloud-installation-guide-using-azure-ubuntu-virtual-machine",children:"SonarQube Cloud Installation Guide using Azure Ubuntu Virtual Machine"})}),"\n",(0,o.jsx)(n.p,{children:"This guide provides detailed steps to install SonarQube in cloud enviornment (Azure Ubuntu VM)."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"New Ubuntu 22.0.4 Virtual Machine instance with at least medium performance (4 GB RAM)"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Docker"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Docker-compose"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"step-1-system-configuration",children:"Step 1: System Configuration"}),"\n",(0,o.jsx)(n.p,{children:"Login to SonarQube instance using git bash or azure cli and perform below command to configure virtual memory permanently for SonarQube to function:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"sudo nano /etc/sysctl.conf\r\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"Add the following lines to the bottom of that file by scrolling all the way down:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"vm.max_map_count=262144\r\nfs.file-max=65536\r\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"Press Ctrl + O and Enter for saving the file.\r\nPress Ctrl + X for exiting the file after saving."}),"\n",(0,o.jsx)(n.p,{children:"To make sure changes are getting into effect:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"sudo sysctl -p\r\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"Perform System update"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"sudo apt update\r\n\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"step-2-create-docker-composeyml",children:"Step 2: Create docker-compose.yml"}),"\n",(0,o.jsx)(n.p,{children:"Create yaml file"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\r\nsudo vi docker-compose.yml \r\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"copy and paste below script"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'\r\nversion: "3"\r\nservices:\r\n  sonarqube:\r\n    image: sonarqube:community\r\n    restart: unless-stopped\r\n    depends_on:\r\n      - db\r\n    environment:\r\n      SONAR_JDBC_URL: jdbc:postgresql://db:5432/sonar\r\n      SONAR_JDBC_USERNAME: sonar\r\n      SONAR_JDBC_PASSWORD: sonar\r\n    volumes:\r\n      - sonarqube_data:/opt/sonarqube/data\r\n      - sonarqube_extensions:/opt/sonarqube/extensions\r\n      - sonarqube_logs:/opt/sonarqube/logs\r\n    ports:\r\n      - "9000:9000"\r\n  db:\r\n    image: postgres:12\r\n    restart: unless-stopped\r\n    environment:\r\n      POSTGRES_USER: sonar\r\n      POSTGRES_PASSWORD: sonar\r\n    volumes:\r\n      - postgresql:/var/lib/postgresql\r\n      - postgresql_data:/var/lib/postgresql/data\r\nvolumes:\r\nsonarqube_data:\r\n  sonarqube_extensions:\r\n  sonarqube_logs:\r\n  postgresql:\r\n  postgresql_data:\r\n\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"step-3-execute-the-compose-file-using-docker-compose-command",children:"Step 3: Execute the compose file using Docker compose command"}),"\n",(0,o.jsx)(n.p,{children:"Open the bash shell and execute the below code"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\r\nsudo docker-compose up -d \r\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"Make sure SonarQube is up and running by checking the logs"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\r\nsudo docker-compose logs\r\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"Now access sonarQube Dashboard by going to browser and enter public dns name OR public IP address with port 9000"}),"\n",(0,o.jsx)(n.p,{children:"Now to go to browser --\x3e http://SonarQube_public_dns_name:9000/\r\n--\x3e http://your_SonarQube_public_IP_address:9000/"}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"By following these steps, you can successfully integrate SonarQube with GitHub to enhance your code quality and maintainability practices."})]})}function l(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>a});var s=r(96540);const o={},t=s.createContext(o);function i(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);