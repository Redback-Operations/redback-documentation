"use strict";(self.webpackChunkredback_documentation=self.webpackChunkredback_documentation||[]).push([[3508],{59893:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"orion-backend/kafkadocs/readme","title":"readme","description":"Last updated by \'29/04/2025\'","source":"@site/docs/orion-backend/kafkadocs/readme.md","sourceDirName":"orion-backend/kafkadocs","slug":"/orion-backend/kafkadocs/","permalink":"/redback-documentation/docs/orion-backend/kafkadocs/","draft":false,"unlisted":false,"editUrl":"https://github.com/Redback-Operations/redback-documentation/blob/main/docs/orion-backend/kafkadocs/readme.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"math-test","permalink":"/redback-documentation/docs/documentation-maintenance/math-test"}}');var r=s(74848),t=s(28453);const l={},a="Kafka Python Documentation - Table of Contents",o={},c=[{value:"sidebar_position: 3",id:"sidebar_position-3",level:2},{value:"Introduction",id:"introduction",level:2},{value:"Installation",id:"installation",level:2},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"API Reference",id:"api-reference",level:2},{value:"Advanced Usage",id:"advanced-usage",level:2},{value:"Deployment",id:"deployment",level:2},{value:"Examples",id:"examples",level:2},{value:"Contributing",id:"contributing",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Appendix",id:"appendix",level:2},{value:"Kafka Python Backend for Crowd Monitoring",id:"kafka-python-backend-for-crowd-monitoring",level:2},{value:"Purpose",id:"purpose",level:2},{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"Technical Components",id:"technical-components",level:2},{value:"System Requirements",id:"system-requirements",level:2},{value:"Setup &amp; Deployment",id:"setup--deployment",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation Steps",id:"installation-steps",level:2},{value:"Running the Application",id:"running-the-application",level:2},{value:"Testing Face Detection",id:"testing-face-detection",level:2},{value:"Monitoring",id:"monitoring",level:2},{value:"Core Features",id:"core-features",level:2},{value:"Real-time Message Processing",id:"real-time-message-processing",level:3},{value:"FastAPI Integration",id:"fastapi-integration",level:3},{value:"Kafka-Powered Architecture",id:"kafka-powered-architecture",level:3},{value:"Additional Features",id:"additional-features",level:2},{value:"Structured Face Detection Results",id:"structured-face-detection-results",level:3},{value:"Data Persistence",id:"data-persistence",level:3},{value:"Flexible Processing Options",id:"flexible-processing-options",level:3},{value:"Developer-Friendly Implementation",id:"developer-friendly-implementation",level:3},{value:"Crowd Analysis",id:"crowd-analysis",level:2},{value:"Real-time Crowd Density Monitoring",id:"real-time-crowd-density-monitoring",level:3},{value:"Facility Capacity Management",id:"facility-capacity-management",level:3},{value:"Security Applications",id:"security-applications",level:2},{value:"Unauthorized Access Detection",id:"unauthorized-access-detection",level:3},{value:"Anomalous Behavior Detection",id:"anomalous-behavior-detection",level:3},{value:"Marketing and Analytics",id:"marketing-and-analytics",level:2},{value:"Customer Traffic Analysis",id:"customer-traffic-analysis",level:3},{value:"Engagement Measurement",id:"engagement-measurement",level:3},{value:"Event Management",id:"event-management",level:2},{value:"Queue Management",id:"queue-management",level:3},{value:"Event Attendance Tracking",id:"event-attendance-tracking",level:3},{value:"Health and Safety",id:"health-and-safety",level:2},{value:"Social Distancing Compliance",id:"social-distancing-compliance",level:3},{value:"Emergency Evacuation Management",id:"emergency-evacuation-management",level:3},{value:"Requirements",id:"requirements",level:2},{value:"System Requirements",id:"system-requirements-1",level:3},{value:"Software Prerequisites",id:"software-prerequisites",level:3},{value:"Network Requirements",id:"network-requirements",level:3},{value:"Setup Instructions",id:"setup-instructions",level:2},{value:"1. Clone the Repository",id:"1-clone-the-repository",level:3},{value:"2. <strong>Access hosted services (Redback)</strong>",id:"2-access-hosted-services-redback",level:3},{value:"3. Setup Python Environment",id:"3-setup-python-environment",level:3},{value:"Environment Configuration",id:"environment-configuration",level:2},{value:"1. Configure Kafka Connection",id:"1-configure-kafka-connection",level:3},{value:"2. Configure Topic Names",id:"2-configure-topic-names",level:3},{value:"Docker Issues",id:"docker-issues",level:2},{value:"Python Environment Issues",id:"python-environment-issues",level:2},{value:"Connectivity Issues",id:"connectivity-issues",level:2},{value:"Kafka Architecture Overview",id:"kafka-architecture-overview",level:2},{value:"Producer-Consumer Model",id:"producer-consumer-model",level:3},{value:"Topics and Partitions",id:"topics-and-partitions",level:2},{value:"Message Delivery Semantics",id:"message-delivery-semantics",level:2},{value:"Getting Started",id:"getting-started-1",level:2},{value:"Basic Setup",id:"basic-setup",level:2},{value:"Simple Producer Example",id:"simple-producer-example",level:2},{value:"Simple Consumer Example",id:"simple-consumer-example",level:2},{value:"Configuration Options",id:"configuration-options",level:2},{value:"API Reference",id:"api-reference-1",level:2},{value:"Producer API",id:"producer-api",level:3},{value:"Consumer API",id:"consumer-api",level:3},{value:"Advanced Usage",id:"advanced-usage-1",level:2},{value:"Serialization and Deserialization",id:"serialization-and-deserialization",level:3},{value:"Error Handling and Retry Mechanism",id:"error-handling-and-retry-mechanism",level:3},{value:"Performance Tuning",id:"performance-tuning",level:3},{value:"Monitoring and Metrics",id:"monitoring-and-metrics",level:2},{value:"Kafka Monitoring",id:"kafka-monitoring",level:3},{value:"Producer Metrics",id:"producer-metrics",level:3},{value:"Consumer Metrics",id:"consumer-metrics",level:3},{value:"PostgreSQL Monitoring",id:"postgresql-monitoring",level:3},{value:"Production Best Practices",id:"production-best-practices",level:2},{value:"Recommendations",id:"recommendations",level:3},{value:"Scaling Considerations",id:"scaling-considerations",level:3},{value:"Techniques",id:"techniques",level:3},{value:"Containerization with Docker",id:"containerization-with-docker",level:2},{value:"Services Overview",id:"services-overview",level:3},{value:"How to Run",id:"how-to-run",level:3},{value:"Cloud Deployment Options",id:"cloud-deployment-options",level:2},{value:"Recommended Services",id:"recommended-services",level:3},{value:"Basic Examples",id:"basic-examples",level:2},{value:"Running the System Locally",id:"running-the-system-locally",level:3},{value:"Real World Scenarios",id:"real-world-scenarios",level:2},{value:"Use Cases",id:"use-cases-1",level:3},{value:"Integration with Other Systems",id:"integration-with-other-systems",level:2},{value:"How to Extend",id:"how-to-extend",level:3},{value:"Batch Processing",id:"batch-processing",level:2},{value:"How It Works",id:"how-it-works",level:3},{value:"Stream Processing",id:"stream-processing",level:2},{value:"Real-Time Analytics",id:"real-time-analytics",level:3},{value:"Contributing Guide",id:"contributing-guide",level:2},{value:"Prerequisites",id:"prerequisites-1",level:3},{value:"Setup Instructions",id:"setup-instructions-1",level:3},{value:"Code Style Guidelines",id:"code-style-guidelines",level:2},{value:"Testing",id:"testing",level:2},{value:"Pull Request Process",id:"pull-request-process",level:2},{value:"Thank You",id:"thank-you",level:2},{value:"Common Issues",id:"common-issues",level:2},{value:"1. Kafka Producer not connecting",id:"1-kafka-producer-not-connecting",level:3},{value:"2.PostgreSQL insertion fails",id:"2postgresql-insertion-fails",level:3},{value:"3. Airflow web UI is blank or errors",id:"3-airflow-web-ui-is-blank-or-errors",level:3},{value:"Debugging Tips",id:"debugging-tips",level:2},{value:"FAQ",id:"faq",level:2},{value:"Q: Can I run this without Docker?",id:"q-can-i-run-this-without-docker",level:3},{value:"Q: How do I connect to Kafka UI?",id:"q-how-do-i-connect-to-kafka-ui",level:3},{value:"Q: What is the use of <code>frame_interval</code>?",id:"q-what-is-the-use-of-frame_interval",level:3},{value:"Q: How do I add another consumer?",id:"q-how-do-i-add-another-consumer",level:3},{value:"Q: How can I scale this in production?",id:"q-how-can-i-scale-this-in-production",level:3},{value:"Glossary",id:"glossary",level:2},{value:"Additional Resources",id:"additional-resources",level:2},{value:"Version History",id:"version-history",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Last updated by:"})," BINIL TOM JOSE, ",(0,r.jsx)(n.strong,{children:"Last updated on:"})," '29/04/2025'"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Last updated by:"})," BINIL TOM JOSE, ",(0,r.jsx)(n.strong,{children:"Last updated on:"})," '29/04/2025'"]}),"\n",(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"kafka-python-documentation---table-of-contents",children:"Kafka Python Documentation - Table of Contents"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"sidebar_position-3",children:"sidebar_position: 3"}),"\n",(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#project-overview",children:"Project Overview"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#key-features",children:"Key Features"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#quick-start-guide",children:"Quick Start"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#use-cases",children:"Use Cases"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#requirements",children:"Requirements"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#setup-instructions",children:"Setup Instructions"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#environment-configuration",children:"Environment Configuration"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#troubleshooting-installation",children:"Troubleshooting Installation"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#kafka-architecture-overview",children:"Kafka Architecture Overview"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#producer-consumer-model",children:"Producer-Consumer Model"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#topics-and-partitions",children:"Topics and Partitions"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#message-delivery-semantics",children:"Message Delivery Semantics"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#basic-setup",children:"Basic Setup"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#simple-producer-example",children:"Simple Producer Example"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#simple-consumer-example",children:"Simple Consumer Example"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#configuration-options",children:"Configuration Options"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#producer-api",children:"Producer API"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#consumer-api",children:"Consumer API"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"advanced-usage",children:"Advanced Usage"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#serialization-and-deserialization",children:"Serialization and Deserialization"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#error-handling-and-retry-mechanism",children:"Error Handling and Retry Mechanisms"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#performance-tuning",children:"Performance Tuning"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#monitoring-and-metrics",children:"Monitoring and Metrics"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"deployment",children:"Deployment"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#production-best-practices",children:"Production Best Practices"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#scaling-considerations",children:"Scaling Considerations"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#containerization-with-docker",children:"Containerization with Docker"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#cloud-deployment-options",children:"Cloud Deployment Options"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#basic-examples",children:"Basic Examples"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#real-world-scenarios",children:"Real World Scenarios"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#integration-with-other-systems",children:"Integration with Other Systems"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#batch-processing",children:"Batch Processing"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#stream-processing",children:"Stream Processing"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"contributing",children:"Contributing"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#development-setup",children:"Development Setup"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#code-style-guidelines",children:"Code Style Guidelines"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#testing",children:"Testing"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#pull-request-process",children:"Pull Request process"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#common-issues",children:"Common Issues"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#debugging-tips",children:"Debugging Tips"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#faq",children:"FAQ"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"appendix",children:"Appendix"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#glossary",children:"Glossary"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#additional-resources",children:"Additonal Resources"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#version-history",children:"Version History"})}),"\n"]}),"\n",(0,r.jsx)(n.h1,{id:"project-overview",children:"Project Overview"}),"\n",(0,r.jsx)(n.h2,{id:"kafka-python-backend-for-crowd-monitoring",children:"Kafka Python Backend for Crowd Monitoring"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Kafka Python Backend"})," is a critical component of the Crowd Monitoring system designed to process images and video frames for face detection using a messaging architecture. This backend infrastructure leverages Apache Kafka for efficient message handling, FastAPI for lightweight API endpoints, and a modular face detection model for identifying faces in crowd monitoring applications."]}),"\n",(0,r.jsx)(n.h2,{id:"purpose",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"The main goals of this project are:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Process images and video frames for crowd monitoring applications"}),"\n",(0,r.jsx)(n.li,{children:"Implement a producer-consumer architecture for distributed message processing"}),"\n",(0,r.jsx)(n.li,{children:"Utilize Apache Kafka to handle high-throughput message streams efficiently"}),"\n",(0,r.jsx)(n.li,{children:"Provide REST API endpoints through FastAPI for system integration"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,r.jsx)(n.p,{children:"This project implements a messaging-based architecture with:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Kafka Message Broker"}),": Handles communication between components for crowd monitoring data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"FastAPI Service"}),": Provides REST API endpoints for sending and receiving detection results"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Background Processing"}),": Runs Kafka consumer in a separate thread for continuous operation"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"technical-components",children:"Technical Components"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"app.py"}),": FastAPI application with Kafka integration and REST endpoints"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"model.py"}),": YOLOv3 face detection implementation with JSON result formatting"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"producer.py"}),": Face detection code for producing messages to Kafka"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"consumer.py"}),": Kafka consumer for processing face detection results and storing in PostgreSQL"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"system-requirements",children:"System Requirements"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Python"}),": 3.10 or higher"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Kafka"}),": Running in Docker"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Package Manager"}),": uv 0.6 or higher"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Web Framework"}),": FastAPI"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Container Platform"}),": Docker & Docker Compose"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"setup--deployment",children:"Setup & Deployment"}),"\n",(0,r.jsx)(n.p,{children:"The system is deployed on the Redback server, where Kafka, PostgreSQL, RabbitMQ, and Airflow are pre-configured and running.\r\nLocal Python development is supported via a virtual environment using the uv tool. API documentation is accessible through the built-in Swagger UI when the FastAPI service is running."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:":/e603cea36b144275b9d1db73c2452e51",children:"Table of Contents"})," | ",(0,r.jsx)(n.a,{href:":/407760a71f504e3aa2270f122abacf6e",children:"Next: Key Features"})]}),"\n",(0,r.jsx)(n.h1,{id:"quick-start-guide",children:"Quick Start Guide"}),"\n",(0,r.jsx)(n.p,{children:"This guide will help you quickly set up and run the Kafka Python Backend for your Crowd Monitoring project."}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"Before you begin, ensure you have the following installed:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Python 3.10 or higher"}),"\n",(0,r.jsx)(n.li,{children:"(Optional) Docker, only if you plan to run services locally instead of using Redback"}),"\n",(0,r.jsx)(n.li,{children:"uv 0.6 or higher"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation-steps",children:"Installation Steps"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Clone the repository"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/sumituiet/kafka_python.git\r\ncd kafka_python\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Access hosted services (Redback)"}),"\r\nYou can access the pre-configured services on the Deakin Redback server via:"]}),"\n",(0,r.jsxs)(n.p,{children:["Kafka UI: ",(0,r.jsx)(n.a,{href:"http://redback.it.deakin.edu.au:8080",children:"http://redback.it.deakin.edu.au:8080"})]}),"\n",(0,r.jsxs)(n.p,{children:["RabbitMQ Management: ",(0,r.jsx)(n.a,{href:"http://redback.it.deakin.edu.au:15672",children:"http://redback.it.deakin.edu.au:15672"})]}),"\n",(0,r.jsxs)(n.p,{children:["Airflow Web UI: ",(0,r.jsx)(n.a,{href:"http://redback.it.deakin.edu.au:8888",children:"http://redback.it.deakin.edu.au:8888"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Create and activate a virtual environment using uv"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"uv venv\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Activate the virtual environemnt (Windows/macOS/Linux)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"source .venv/bin/activate\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"(Optional) Install uv inside the environment if not already available"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pip install uv\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"running-the-application",children:"Running the Application"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Start the FastAPI server"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"fastapi dev app.py\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The server will start at ",(0,r.jsx)(n.a,{href:"http://127.0.0.1:8000",children:"http://127.0.0.1:8000"}),"\r\nAccess the API documentation"]}),"\n",(0,r.jsxs)(n.p,{children:["Open your browser and navigate to ",(0,r.jsx)(n.a,{href:"http://127.0.0.1:8000/docs",children:"http://127.0.0.1:8000/docs"}),"\r\nThis interactive documentation allows you to test all API endpoints"]}),"\n",(0,r.jsx)(n.h2,{id:"testing-face-detection",children:"Testing Face Detection"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Send a test message"}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use the /send endpoint to publish a test message to Kafka\r\nExample :"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'  {\r\n  "content": "process_image",\r\n  "sender": "test_client"\r\n  }\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"Process an image"}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Place test images in your project directory"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'from model import detect_faces\r\nresults = detect_faces("path/to/image.jpg")\r\nprint(results)\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"Retreive processed images"}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use the /receive endpoint to get messages from the Kafka consumer."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"monitoring",children:"Monitoring"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Check your terminal or logs for Kafka consumer output"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"PostgreSQL stores all processed face detection results \u2014 use tools like pgAdmin or psql CLI to inspect stored data"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Use Kafka UI at ",(0,r.jsx)(n.a,{href:"http://redback.it.deakin.edu.au:8080",children:"http://redback.it.deakin.edu.au:8080"})," to monitor Kafka topics and message flow"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h1,{id:"key-features",children:"Key Features"}),"\n",(0,r.jsx)(n.p,{children:"The Kafka Python Backend with Face Detection offers specialized features designed for real-time face detection and messaging:"}),"\n",(0,r.jsx)(n.h2,{id:"core-features",children:"Core Features"}),"\n",(0,r.jsx)(n.h3,{id:"real-time-message-processing",children:"Real-time Message Processing"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Asynchronous communication through Kafka messaging system"}),"\n",(0,r.jsx)(n.li,{children:"In-memory message queue for temporary storage"}),"\n",(0,r.jsx)(n.li,{children:"Background thread consumer for continuous message processing"}),"\n",(0,r.jsx)(n.li,{children:"Efficient message handling with JSON serialization"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"fastapi-integration",children:"FastAPI Integration"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"High-performance RESTful API endpoints"}),"\n",(0,r.jsx)(n.li,{children:"JSON-based message format for seamless data exchange"}),"\n",(0,r.jsxs)(n.li,{children:["Simple ",(0,r.jsx)(n.code,{children:"/send"})," endpoint for message production"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"/receive"})," endpoint for retrieving processed messages"]}),"\n",(0,r.jsx)(n.li,{children:"Automatic cleanup of delivered messages"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"kafka-powered-architecture",children:"Kafka-Powered Architecture"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Producer-consumer pattern for distributed processing"}),"\n",(0,r.jsx)(n.li,{children:"Reliable message delivery with Kafka guarantees"}),"\n",(0,r.jsx)(n.li,{children:"Configurable broker settings"}),"\n",(0,r.jsx)(n.li,{children:"Topic-based message organization"}),"\n",(0,r.jsx)(n.li,{children:"JSON serialization/deserialization for structured data"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"additional-features",children:"Additional Features"}),"\n",(0,r.jsx)(n.h3,{id:"structured-face-detection-results",children:"Structured Face Detection Results"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Frame identification for video processing"}),"\n",(0,r.jsx)(n.li,{children:"Total face count in each processed image"}),"\n",(0,r.jsx)(n.li,{children:"Detailed face records with unique IDs"}),"\n",(0,r.jsx)(n.li,{children:"Precise bounding box coordinates (x, y, width, height)"}),"\n",(0,r.jsx)(n.li,{children:"Confidence scores for each detected face"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"data-persistence",children:"Data Persistence"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"PostgreSQL integration for storing  results"}),"\n",(0,r.jsx)(n.li,{children:"Structured data format for efficient querying"}),"\n",(0,r.jsx)(n.li,{children:"Persistent storage of detection results"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"flexible-processing-options",children:"Flexible Processing Options"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Support for file-based image processing"}),"\n",(0,r.jsx)(n.li,{children:"Frame-by-frame video processing capabilities"}),"\n",(0,r.jsx)(n.li,{children:"Customizable confidence thresholds"}),"\n",(0,r.jsx)(n.li,{children:"Non-maximum suppression for removing duplicate detections"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"developer-friendly-implementation",children:"Developer-Friendly Implementation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Modular code organization"}),"\n",(0,r.jsx)(n.li,{children:"Clear separation of concerns"}),"\n",(0,r.jsx)(n.li,{children:"Easily extendable architecture"}),"\n",(0,r.jsx)(n.li,{children:"Simple configuration of Kafka brokers and topics"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:":/2c760b6d4d4a4c9bb4ab1bb2938566e6",children:"Project Overview"})," | ",(0,r.jsx)(n.a,{href:":/e603cea36b144275b9d1db73c2452e51",children:"Table of Contents"})," | ",(0,r.jsx)(n.a,{href:":/387aff55a3b14a4e87e8a65b455deaee",children:"Use Cases"})]}),"\n",(0,r.jsx)(n.h1,{id:"use-cases",children:"Use Cases"}),"\n",(0,r.jsx)(n.p,{children:"This document outlines the primary use cases for the Kafka Python Backend with YOLOv3 face detection in crowd monitoring applications."}),"\n",(0,r.jsx)(n.h2,{id:"crowd-analysis",children:"Crowd Analysis"}),"\n",(0,r.jsx)(n.h3,{id:"real-time-crowd-density-monitoring",children:"Real-time Crowd Density Monitoring"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Monitor crowd density in public spaces by detecting and counting faces in video streams."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Implementation"}),": Security camera feeds are processed frame-by-frame using the YOLOv3 model, with face counts published to Kafka topics for real-time monitoring."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Benefit"}),": Allows security personnel to identify potential overcrowding situations before they become dangerous."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"facility-capacity-management",children:"Facility Capacity Management"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Track facility occupancy levels to ensure compliance with capacity regulations."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Implementation"}),": The system processes entrance and exit camera feeds, using face detection to count individuals entering and leaving the facility."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Benefit"}),": Helps venues maintain safe occupancy levels and comply with safety regulations."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"security-applications",children:"Security Applications"}),"\n",(0,r.jsx)(n.h3,{id:"unauthorized-access-detection",children:"Unauthorized Access Detection"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Monitor restricted areas for unauthorized personnel."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Implementation"}),": The system continuously processes camera feeds from restricted areas, sending alerts when faces are detected in zones that should be vacant."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Benefit"}),": Enhances security by providing immediate notification when restricted zones are breached."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"anomalous-behavior-detection",children:"Anomalous Behavior Detection"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Identify unusual crowd movements or gatherings."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Implementation"}),": By analyzing the number and distribution of detected faces over time, the system can recognize sudden changes in crowd patterns."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Benefit"}),": Helps security teams respond proactively to potentially problematic situations."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"marketing-and-analytics",children:"Marketing and Analytics"}),"\n",(0,r.jsx)(n.h3,{id:"customer-traffic-analysis",children:"Customer Traffic Analysis"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Analyze customer traffic patterns in retail environments."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Implementation"}),": Face detection data from store cameras is processed to generate heatmaps of customer presence throughout business hours."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Benefit"}),": Provides retailers with valuable insights for optimizing store layouts and staffing."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"engagement-measurement",children:"Engagement Measurement"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Measure audience engagement with displays or presentations."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Implementation"}),": By detecting faces oriented toward displays, the system can estimate attention levels and dwell time."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Benefit"}),": Helps marketing teams evaluate the effectiveness of visual merchandising and advertisements."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"event-management",children:"Event Management"}),"\n",(0,r.jsx)(n.h3,{id:"queue-management",children:"Queue Management"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Monitor queue lengths and waiting times."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Implementation"}),": Camera feeds focused on queuing areas are processed to count faces, with data used to estimate wait times."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Benefit"}),": Improves customer experience by allowing staff to open additional service points when queues grow too long."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"event-attendance-tracking",children:"Event Attendance Tracking"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Track attendance at events or specific areas."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Implementation"}),": The system processes video from entry points, using YOLOv3 face detection to count unique attendees."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Benefit"}),": Provides accurate attendance metrics for event organizers and sponsors."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"health-and-safety",children:"Health and Safety"}),"\n",(0,r.jsx)(n.h3,{id:"social-distancing-compliance",children:"Social Distancing Compliance"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Monitor adherence to social distancing guidelines."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Implementation"}),": By analyzing the spatial distribution of detected faces, the system can identify areas where people are clustered too closely together."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Benefit"}),": Helps enforce health protocols and reduce transmission risks in public spaces."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"emergency-evacuation-management",children:"Emergency Evacuation Management"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Support safe evacuations during emergencies."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Implementation"}),": Real-time face detection helps track crowd movement during evacuations, identifying bottlenecks or areas where people might be trapped."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Benefit"}),": Assists emergency responders in prioritizing rescue efforts and improving evacuation procedures."]}),"\n"]}),"\n",(0,r.jsx)(n.h1,{id:"installation-1",children:"Installation"}),"\n",(0,r.jsx)(n.p,{children:"This guide will walk you through the complete installation process for the Kafka Python Backend with face detection support."}),"\n",(0,r.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsx)(n.h3,{id:"system-requirements-1",children:"System Requirements"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Operating System"}),": Linux (recommended), macOS, or Windows"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RAM"}),": Minimum 8GB (16GB recommended for production)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Storage"}),": At least 10GB free disk space"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CPU"}),": Multi-core processor (recommended for video processing)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"software-prerequisites",children:"Software Prerequisites"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Python"}),": Version 3.10 or higher"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Docker"}),": Latest stable version"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Docker Compose"}),": Latest stable version"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"uv"}),": Version 0.6 or higher (Python package manager)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Git"}),": For repository cloning"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"network-requirements",children:"Network Requirements"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Port 9092 available for Kafka broker"}),"\n",(0,r.jsx)(n.li,{children:"Port 8000 available for FastAPI service"}),"\n",(0,r.jsx)(n.li,{children:"Port 5432 open for PostgreSQL database (if accessing remotely)"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"setup-instructions",children:"Setup Instructions"}),"\n",(0,r.jsx)(n.h3,{id:"1-clone-the-repository",children:"1. Clone the Repository"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/sumituiet/kafka_python.git\r\ncd kafka_python\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"2-access-hosted-services-redback",children:["2. ",(0,r.jsx)(n.strong,{children:"Access hosted services (Redback)"})]}),"\n",(0,r.jsx)(n.p,{children:"You can access the pre-configured services on the Deakin Redback server via:"}),"\n",(0,r.jsxs)(n.p,{children:["Kafka UI: ",(0,r.jsx)(n.a,{href:"http://redback.it.deakin.edu.au:8080",children:"http://redback.it.deakin.edu.au:8080"})]}),"\n",(0,r.jsxs)(n.p,{children:["RabbitMQ Management: ",(0,r.jsx)(n.a,{href:"http://redback.it.deakin.edu.au:15672",children:"http://redback.it.deakin.edu.au:15672"})]}),"\n",(0,r.jsxs)(n.p,{children:["Airflow Web UI: ",(0,r.jsx)(n.a,{href:"http://redback.it.deakin.edu.au:8888",children:"http://redback.it.deakin.edu.au:8888"})]}),"\n",(0,r.jsx)(n.h3,{id:"3-setup-python-environment",children:"3. Setup Python Environment"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Create and activate virtual environment using uv:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"uv venv\r\nsource .venv/bin/activate  # On Windows: .venv\\Scripts\\activate\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Install required dependencies:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"uv install\n"})}),"\n",(0,r.jsx)(n.h2,{id:"environment-configuration",children:"Environment Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"1-configure-kafka-connection",children:"1. Configure Kafka Connection"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"By default, the application connects to Kafka at localhost:9092. To modify this:\r\nEdit app.py, producer.py, and consumer.py to update the KAFKA_BROKER variable:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Default\r\nKAFKA_BROKER = "localhost:9092"\r\n\r\n# Example for custom configuration\r\nKAFKA_BROKER = "your-kafka-server:9092"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-configure-topic-names",children:"2. Configure Topic Names"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Update Kafka Topics needed"}),"\r\n",(0,r.jsx)(n.strong,{children:"In app.py (default)"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'TOPIC_NAME = "faces"\n'})}),"\n",(0,r.jsxs)(n.p,{children:["In consumer.py (default)\r\n",(0,r.jsx)(n.strong,{children:"Consumer topic for 'Faces'."})]}),"\n",(0,r.jsx)(n.h1,{id:"troubleshooting-installation",children:"Troubleshooting Installation"}),"\n",(0,r.jsx)(n.h2,{id:"docker-issues",children:"Docker Issues"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem"}),": Docker services not starting",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Check if the Docker daemon is running:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker info\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Ensure required ports are free:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"netstat -tulpn | grep <port>\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem"}),": Kafka not accessible",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["View Kafka logs:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose logs kafka\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Check if Kafka is exposed on the correct port (",(0,r.jsx)(n.code,{children:"9092"})," by default)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"python-environment-issues",children:"Python Environment Issues"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem"}),": ",(0,r.jsx)(n.code,{children:"uv"})," command not found",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Install ",(0,r.jsx)(n.code,{children:"uv"})," using pip:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pip install uv\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem"}),": Package installation failures",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check your Python version (recommended: Python 3.8+)"}),"\n",(0,r.jsxs)(n.li,{children:["Update ",(0,r.jsx)(n.code,{children:"uv"})," if already installed:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pip install -U uv\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"connectivity-issues",children:"Connectivity Issues"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Problem"}),": Application can't connect to Kafka",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Solution"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Confirm Kafka is running and healthy"}),"\n",(0,r.jsxs)(n.li,{children:["Check firewall or VPN settings that might block port ",(0,r.jsx)(n.code,{children:"9092"})]}),"\n",(0,r.jsx)(n.li,{children:"Verify the Kafka broker address in your config matches the container/service name"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h1,{id:"kafka-core-concepts",children:"Kafka Core Concepts"}),"\n",(0,r.jsx)(n.h2,{id:"kafka-architecture-overview",children:"Kafka Architecture Overview"}),"\n",(0,r.jsx)(n.p,{children:"Kafka operates as a distributed messaging system that follows a client-server architecture. Applications connect to Kafka brokers via configuration settings:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"bootstrap_servers='localhost:9092'\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"This setting establishes the fundamental connection between client applications and the Kafka cluster, serving as the entry point for all communications. The cluster maintains topics that organize message streams, while clients interact with these topics through well-defined APIs."})}),"\n",(0,r.jsx)(n.p,{children:"The Kafka broker handles message persistence, replication, and delivery, functioning as an intermediary between producers and consumers while maintaining highly available service."}),"\n",(0,r.jsx)(n.h3,{id:"producer-consumer-model",children:"Producer-Consumer Model"}),"\n",(0,r.jsx)(n.p,{children:"The implementation demonstrates Kafka's producer-consumer model through specialized components:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Producers"}),"\r\nProducers are applications that publish messages to specific topics. The code shows multiple producer implementations:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"A video frame producer that extracts and sends face detection data"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"A media stream producer that publishes encoded audio and video chunks"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"A messaging producer that sends chat data"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"producer = KafkaProducer(\r\n    bootstrap_servers='localhost:9092',\r\n    value_serializer=lambda v: json.dumps(v).encode('utf-8')\r\n)\r\nproducer.send(topic, result)\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Consumers"}),"\r\nConsumers subscribe to topics and process published messages. Different consumer implementations demonstrate varying consumption patterns:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"A face data consumer that processes detection results and stores them in a database"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"A video consumer that reconstructs frames from received data"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"A threaded consumer within a web application that maintains an in-memory queue"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"consumer = KafkaConsumer(\r\n    'Faces',\r\n    bootstrap_servers='localhost:9092',\r\n    auto_offset_reset='earliest',\r\n    value_deserializer=lambda v: json.loads(v.decode('utf-8'))\r\n)\r\n\r\nfor msg in consumer:\r\n    data = msg.value\r\n    # Process the message\n"})}),"\n",(0,r.jsx)(n.p,{children:"This decoupled architecture enables independent development, deployment, and scaling of producers and consumers."}),"\n",(0,r.jsx)(n.h2,{id:"topics-and-partitions",children:"Topics and Partitions"}),"\n",(0,r.jsx)(n.p,{children:"This decoupled architecture enables independent development, deployment, and scaling of producers and consumers."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Different topics for different data domains\r\n'Faces'        # Face detection data\r\n'chat'         # Messaging data\r\n'media-stream' # Video and audio streaming data\n"})}),"\n",(0,r.jsx)(n.p,{children:"Topics are physically implemented as partitions, providing the foundation for parallelism and distributed processing. While partitioning configuration is not explicitly shown in the code, the Kafka client libraries manage the distribution of messages across partitions when multiple partitions exist."}),"\n",(0,r.jsx)(n.p,{children:"Messages with the same key are guaranteed to be sent to the same partition, enabling ordering guarantees for related messages."}),"\n",(0,r.jsx)(n.h2,{id:"message-delivery-semantics",children:"Message Delivery Semantics"}),"\n",(0,r.jsx)(n.p,{children:"The implementation demonstrates various delivery semantics through configuration options:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Different offset reset strategies\r\nauto_offset_reset='earliest'  # Process all available messages\r\nauto_offset_reset='latest'    # Process only new messages\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Ensuring message delivery\r\nproducer.flush()  # Blocks until messages are sent\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Managing consumer offsets\r\nenable_auto_commit=True  # Automatically track processed messages\n"})}),"\n",(0,r.jsx)(n.p,{children:"These settings control the reliability guarantees:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"At-most-once: When producers don't wait for acknowledgments"}),"\n",(0,r.jsx)(n.li,{children:"At-least-once: When producers confirm delivery and consumers track offsets"}),"\n",(0,r.jsx)(n.li,{children:"Exactly-once: Requires additional configuration using transactions and idempotent producers"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The implementation primarily uses at-least-once semantics, ensuring messages are never lost while accepting the possibility of duplicate processing."}),"\n",(0,r.jsx)(n.h2,{id:"getting-started-1",children:"Getting Started"}),"\n",(0,r.jsx)(n.p,{children:"This section guides you through the practical steps to begin using Kafka in your application."}),"\n",(0,r.jsx)(n.h2,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,r.jsx)(n.p,{children:"Before creating producers and consumers, you need to set up a basic Kafka environment:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Import the required libraries\r\nfrom kafka import KafkaProducer, KafkaConsumer\r\nimport json\r\n\r\n# Define broker connection information\r\nKAFKA_BROKER = 'localhost:9092'\r\nTOPIC_NAME = 'example-topic'\n"})}),"\n",(0,r.jsx)(n.p,{children:"Make sure your Kafka broker is running and accessible at the specified address before proceeding to the next steps."}),"\n",(0,r.jsx)(n.h2,{id:"simple-producer-example",children:"Simple Producer Example"}),"\n",(0,r.jsx)(n.p,{children:"The following example demonstrates how to create a basic producer that sends messages to a Kafka topic:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Create a Kafka producer with JSON serialization\r\nproducer = KafkaProducer(\r\n    bootstrap_servers=KAFKA_BROKER,\r\n    value_serializer=lambda v: json.dumps(v).encode(\'utf-8\')\r\n)\r\n\r\n# Send a message to the topic\r\nmessage = {"key": "value", "timestamp": "2023-04-09T12:00:00Z"}\r\nproducer.send(TOPIC_NAME, message)\r\n\r\n# Ensure the message is sent before continuing\r\nproducer.flush()\r\n\r\nprint("Message sent successfully!")\n'})}),"\n",(0,r.jsx)(n.p,{children:"This producer serializes Python dictionaries to JSON before sending them to the Kafka topic."}),"\n",(0,r.jsx)(n.h2,{id:"simple-consumer-example",children:"Simple Consumer Example"}),"\n",(0,r.jsx)(n.p,{children:"Here's how to create a basic consumer that reads messages from a Kafka topic:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Create a Kafka consumer with JSON deserialization\r\nconsumer = KafkaConsumer(\r\n    TOPIC_NAME,\r\n    bootstrap_servers=KAFKA_BROKER,\r\n    auto_offset_reset='earliest',\r\n    value_deserializer=lambda v: json.loads(v.decode('utf-8'))\r\n)\r\n\r\n# Process messages\r\nprint(\"Waiting for messages...\")\r\nfor message in consumer:\r\n    data = message.value\r\n    print(f\"Received: {data}\")\r\n    \r\n    # Process the message data here\r\n    \r\n    # To exit the loop (in this example), break after processing one message\r\n    break\r\n\r\nconsumer.close()\n"})}),"\n",(0,r.jsx)(n.p,{children:"This consumer deserializes JSON messages back into Python dictionaries and processes them one by one."}),"\n",(0,r.jsx)(n.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,r.jsx)(n.p,{children:"Kafka clients offer numerous configuration options to customize behavior:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"producer = KafkaProducer(\r\n    bootstrap_servers='localhost:9092',\r\n    value_serializer=lambda v: json.dumps(v).encode('utf-8'),\r\n    acks='all',                # Wait for all replicas to acknowledge\r\n    retries=3,                 # Number of retries if the broker is unavailable\r\n    batch_size=16384,          # Size of batches in bytes\r\n    linger_ms=10,              # Delay in milliseconds to allow batching\r\n    compression_type='gzip',   # Message compression type\r\n    max_in_flight_requests_per_connection=1  # For strict ordering\r\n)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Consumer Configuration"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"consumer = KafkaConsumer(\r\n    'example-topic',\r\n    bootstrap_servers='localhost:9092',\r\n    group_id='my-group',          # Consumer group ID\r\n    auto_offset_reset='earliest',  # Start from beginning of topic\r\n    enable_auto_commit=True,      # Automatically commit offsets\r\n    auto_commit_interval_ms=5000, # Commit interval in milliseconds\r\n    fetch_max_bytes=52428800,     # Max bytes to fetch per request\r\n    max_poll_records=500,         # Max records per poll\r\n    value_deserializer=lambda v: json.loads(v.decode('utf-8'))\r\n)\n"})}),"\n",(0,r.jsx)(n.p,{children:"These configurations allow you to fine-tune performance, reliability, and behavior of your Kafka applications."}),"\n",(0,r.jsx)(n.h2,{id:"api-reference-1",children:"API Reference"}),"\n",(0,r.jsx)(n.h3,{id:"producer-api",children:"Producer API"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Module"}),": ",(0,r.jsx)(n.code,{children:"producer.py"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Functionality"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reads video frames using OpenCV."}),"\n",(0,r.jsx)(n.li,{children:"Applies YOLOv3-based face detection."}),"\n",(0,r.jsxs)(n.li,{children:["Sends JSON results to the Kafka topic ",(0,r.jsx)(n.code,{children:"Faces"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Kafka Configuration"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"KafkaProducer(\r\n    bootstrap_servers='localhost:9092',\r\n    value_serializer=lambda v: json.dumps(v).encode('utf-8')\r\n)\n"})}),"\n",(0,r.jsx)(n.p,{children:"Topic: Faces\r\nMessage Format:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "frame_id": 12,\r\n  "total_faces": 3,\r\n  "faces": [\r\n    {\r\n      "face_id": 0,\r\n      "bounding_box": {"x": 100, "y": 120, "width": 50, "height": 50},\r\n      "confidence": 0.89\r\n    }\r\n  ]\r\n}\r\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"consumer-api",children:"Consumer API"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Module"}),": ",(0,r.jsx)(n.code,{children:"consumer.py"}),(0,r.jsx)(n.br,{}),"\n","Functionality:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Subscribes to Kafka topic Faces."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Deserializes JSON messages."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Persists face data to PostgreSQL using insert_face_data()."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"KafkaConsumer(\r\n    'Faces',\r\n    bootstrap_servers='localhost:9092',\r\n    auto_offset_reset='earliest',\r\n    value_deserializer=lambda v: json.loads(v.decode('utf-8'))\r\n)\n"})}),"\n",(0,r.jsx)(n.p,{children:"PostgreSQL Integration:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Assumes insert_face_data(data) in database.py."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"advanced-usage-1",children:"Advanced Usage"}),"\n",(0,r.jsx)(n.h3,{id:"serialization-and-deserialization",children:"Serialization and Deserialization"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.strong,{children:"Producer"})," converts Python data (dictionary) to JSON before sending to Kafka."]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.strong,{children:"Consumer"})," reads the JSON from Kafka and turns it back into a Python dictionary."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Producer\r\nvalue_serializer=lambda v: json.dumps(v).encode('utf-8')\r\n\r\n# Consumer\r\nvalue_deserializer=lambda v: json.loads(v.decode('utf-8'))\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"error-handling-and-retry-mechanism",children:"Error Handling and Retry Mechanism"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Right now, the app stops with ",(0,r.jsx)(n.code,{children:"CTRL+C"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["In the future, we try to implement:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Retry logic"}),": Try sending or saving again if something fails."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Logging errors"}),": Print or save errors to understand what went wrong."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"performance-tuning",children:"Performance Tuning"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["You can skip more frames by changing this line in ",(0,r.jsx)(n.code,{children:"producer.py"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"frame_interval = int(fps / 3)\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Try ",(0,r.jsx)(n.code,{children:"/2"})," or ",(0,r.jsx)(n.code,{children:"/5"})," depending on how fast you want it."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.strong,{children:"batch writes"})," for PostgreSQL to save many face results at once."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Kafka has settings like ",(0,r.jsx)(n.code,{children:"linger.ms"})," and ",(0,r.jsx)(n.code,{children:"batch.size"})," to send data faster and smarter."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"monitoring-and-metrics",children:"Monitoring and Metrics"}),"\n",(0,r.jsx)(n.p,{children:"Monitoring helps ensure your system is working correctly, and lets you catch problems early. Below are suggestions to monitor the health and performance of your Kafka pipeline."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"kafka-monitoring",children:"Kafka Monitoring"}),"\n",(0,r.jsx)(n.p,{children:"Use tools like:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Kafka Manager"})," or ",(0,r.jsx)(n.strong,{children:"Confluent Control Center"})," \u2013 to monitor:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Topic lag"}),"\n",(0,r.jsx)(n.li,{children:"Message throughput"}),"\n",(0,r.jsx)(n.li,{children:"Broker health"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Prometheus + Grafana"})," (with JMX Exporter) \u2013 for real-time dashboards"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Metrics to track"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Messages In/Out per second"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Under-replicated partitions"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Consumer group lag"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Producer retries/failures"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"producer-metrics",children:"Producer Metrics"}),"\n",(0,r.jsxs)(n.p,{children:["If you want to log metrics from the ",(0,r.jsx)(n.code,{children:"producer.py"}),", consider:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Logging each frame sent and face count:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"print(f\" Sent Frame {frame_id}: {result['total_faces']} faces\")\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Track dropped frames, retries, or exceptions using a logger."}),"\n",(0,r.jsx)(n.p,{children:"For more advanced tracking:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.strong,{children:"prometheus_client"})," Python package to expose metrics from producer and consumer as HTTP endpoints."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"consumer-metrics",children:"Consumer Metrics"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Monitor"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Number of messages consumed"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Insert success/failure count in PostgreSQL"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"To add basic timing:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import time\r\nstart_time = time.time()\r\ninsert_face_data(data)\r\nprint(f"Insertion took {time.time() - start_time} seconds")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"postgresql-monitoring",children:"PostgreSQL Monitoring"}),"\n",(0,r.jsx)(n.p,{children:"Used tools like pgAdmin, PostgreSQL Performance Dashboard, or command-line utilities (e.g., pg_stat_statements) to:"}),"\n",(0,r.jsx)(n.p,{children:"Track query execution times"}),"\n",(0,r.jsx)(n.p,{children:"Monitor CPU and memory usage"}),"\n",(0,r.jsx)(n.p,{children:"Review indexing effectiveness and query plans"}),"\n",(0,r.jsx)(n.h1,{id:"deployment-guide",children:"Deployment Guide"}),"\n",(0,r.jsx)(n.p,{children:"This guide provides step-by-step instructions to deploy the Kafka-based face detection system using Docker Compose."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"production-best-practices",children:"Production Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"recommendations",children:"Recommendations"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use environment variables via ",(0,r.jsx)(n.code,{children:".env"})," for configuration."]}),"\n",(0,r.jsx)(n.li,{children:"Separate dev/staging/prod Docker files if needed."}),"\n",(0,r.jsx)(n.li,{children:"Never commit actual secrets (e.g., passwords, keys) to version control."}),"\n",(0,r.jsx)(n.li,{children:"Use logging, retry, and error handling in producer/consumer scripts."}),"\n",(0,r.jsx)(n.li,{children:"Monitor Kafka, PostgreSQL, and Airflow health with dashboards or alerts."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"scaling-considerations",children:"Scaling Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"techniques",children:"Techniques"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use Kafka ",(0,r.jsx)(n.strong,{children:"partitions"})," to parallelize topic processing."]}),"\n",(0,r.jsxs)(n.li,{children:["Add more ",(0,r.jsx)(n.strong,{children:"consumers"})," in a ",(0,r.jsx)(n.strong,{children:"consumer group"})," to scale reads."]}),"\n",(0,r.jsxs)(n.li,{children:["Use multiple ",(0,r.jsx)(n.strong,{children:"Airflow Celery workers"})," for concurrent DAG execution."]}),"\n",(0,r.jsxs)(n.li,{children:["Enable ",(0,r.jsx)(n.strong,{children:"PostgreSQL partitioning or table sharding"})," for handling large volumes of face detection data."]}),"\n",(0,r.jsxs)(n.li,{children:["Control processing load using ",(0,r.jsx)(n.code,{children:"frame_interval"})," in ",(0,r.jsx)(n.code,{children:"producer.py"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"containerization-with-docker",children:"Containerization with Docker"}),"\n",(0,r.jsx)(n.h3,{id:"services-overview",children:"Services Overview"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Service"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Kafka"})}),(0,r.jsx)(n.td,{children:"Message broker in KRaft mode"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Kafka UI"})}),(0,r.jsx)(n.td,{children:"Web interface for Kafka monitoring"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"RabbitMQ"})}),(0,r.jsx)(n.td,{children:"Queue broker for Celery (Airflow)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"PostgreSQL"})}),(0,r.jsx)(n.td,{children:"Database for Airflow metadata"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Airflow"})}),(0,r.jsx)(n.td,{children:"Task orchestration and scheduling platform"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"how-to-run",children:"How to Run"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Create a ",(0,r.jsx)(n.code,{children:".env"})," file (with placeholders if sharing):"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"POSTGRES_USER=airflow\r\nPOSTGRES_PASSWORD=airflow\r\nRABBITMQ_DEFAULT_USER=admin\r\n...\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"Skip Docker Compose \u2013 services are pre-deployed on Redback"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"All backend services are already running on the Deakin Redback server."}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"Access services:"}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Kafka UI: ",(0,r.jsx)(n.a,{href:"http://redback.it.deakin.edu.au:8080",children:"http://redback.it.deakin.edu.au:8080"})]}),"\n",(0,r.jsxs)(n.li,{children:["Airflow: ",(0,r.jsx)(n.a,{href:"http://redback.it.deakin.edu.au:8888",children:"http://redback.it.deakin.edu.au:8888"})]}),"\n",(0,r.jsxs)(n.li,{children:["RabbitMQ: ",(0,r.jsx)(n.a,{href:"http://redback.it.deakin.edu.au:15672",children:"http://redback.it.deakin.edu.au:15672"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"cloud-deployment-options",children:"Cloud Deployment Options"}),"\n",(0,r.jsx)(n.h3,{id:"recommended-services",children:"Recommended Services"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Component"}),(0,r.jsx)(n.th,{children:"Cloud Alternative"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Kafka"}),(0,r.jsx)(n.td,{children:"Confluent Cloud, AWS MSK"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"PostgreSQL"}),(0,r.jsx)(n.td,{children:"Amazon RDS for PostgreSQL, Google Cloud SQL, Supabase"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Container Hosting"}),(0,r.jsx)(n.td,{children:"GCP Cloud Run, AWS ECS, Azure Container Apps"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Monitoring"}),(0,r.jsx)(n.td,{children:"Grafana Cloud, Datadog, Prometheus Stack"})]})]})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Pro Tip: Use managed cloud services to reduce infrastructure overhead."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"examples-1",children:"Examples"}),"\n",(0,r.jsx)(n.h2,{id:"basic-examples",children:"Basic Examples"}),"\n",(0,r.jsx)(n.h3,{id:"running-the-system-locally",children:"Running the System Locally"}),"\n",(0,r.jsx)(n.p,{children:"Start the producer and consumer from the command line:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python producer.py\r\npython consumer.py\n"})}),"\n",(0,r.jsx)(n.p,{children:"Sample output:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:' Sent Frame 21: 3 faces\r\nReceived JSON:\r\n{\r\n  "frame_id": 21,\r\n  "total_faces": 3,\r\n  ...\r\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"real-world-scenarios",children:"Real World Scenarios"}),"\n",(0,r.jsx)(n.h3,{id:"use-cases-1",children:"Use Cases"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Smart Surveillance"}),": Detect crowd levels in public areas using CCTV."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Retail Analytics"}),": Monitor foot traffic and customer behavior in stores."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Event Management"}),": Track audience density and movement during live events."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Campus Monitoring"}),": Integrate with security feeds to detect unusual gatherings."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"integration-with-other-systems",children:"Integration with Other Systems"}),"\n",(0,r.jsx)(n.h3,{id:"how-to-extend",children:"How to Extend"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"REST APIs"}),": Send results to analytics dashboards or visualization tools."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Database Sync"}),": Save face detection metadata to PostgreSQL for structured querying."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"IoT Integration"}),": Trigger edge devices (alarms, cameras) based on crowd thresholds."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cloud Logging"}),": Export structured logs to ELK stack or GCP Logging."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"batch-processing",children:"Batch Processing"}),"\n",(0,r.jsx)(n.h3,{id:"how-it-works",children:"How It Works"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use Airflow DAGs to:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Periodically scan folders for ",(0,r.jsx)(n.code,{children:".mp4"})," files"]}),"\n",(0,r.jsx)(n.li,{children:"Trigger face detection"}),"\n",(0,r.jsx)(n.li,{children:"Store results in PostgreSQL  or export as CSV"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Example DAG task:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"run_producer = BashOperator(\r\n    task_id='process_video',\r\n    bash_command='python /opt/airflow/dags/producer.py'\r\n)\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"stream-processing",children:"Stream Processing"}),"\n",(0,r.jsx)(n.h3,{id:"real-time-analytics",children:"Real-Time Analytics"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Connect the producer to a ",(0,r.jsx)(n.strong,{children:"live video source"})," (RTSP camera or webcam)."]}),"\n",(0,r.jsx)(n.li,{children:"Use Kafka to stream frames with minimal latency."}),"\n",(0,r.jsx)(n.li,{children:"Consumers process in near-real-time and store results in PostgreSQL."}),"\n",(0,r.jsx)(n.li,{children:"Combine with Airflow for post-processing pipelines or alerts."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"contributing-guide",children:"Contributing Guide"}),"\n",(0,r.jsx)(n.p,{children:"We welcome contributions to improve this Kafka-based face detection pipeline! Follow the guidelines below to ensure smooth collaboration."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"development-setup",children:"Development Setup"}),"\n",(0,r.jsx)(n.h3,{id:"prerequisites-1",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Python 3.10+"}),"\n",(0,r.jsx)(n.li,{children:"Docker & Docker Compose"}),"\n",(0,r.jsx)(n.li,{children:"Git"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"setup-instructions-1",children:"Setup Instructions"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Clone the repository:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/sumituiet/kafka_python/\r\ncd face-detection-kafka\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"Create a virtual environment:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python -m venv venv\r\nsource venv/bin/activate  # or venv\\Scripts\\activate on Windows\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"Install dependencies:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pip install -r requirements.txt\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Create a ",(0,r.jsx)(n.code,{children:".env"})," file using ",(0,r.jsx)(n.code,{children:".env.example"})," as a reference."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Run services:"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker compose up -d --build\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"code-style-guidelines",children:"Code Style Guidelines"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Follow ",(0,r.jsx)(n.strong,{children:"PEP8"})," for Python code."]}),"\n",(0,r.jsx)(n.li,{children:"Use meaningful variable names and comments."}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"black"})," or ",(0,r.jsx)(n.code,{children:"autopep8"})," for formatting:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"black .\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Follow consistent naming and indentation conventions."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Unit tests should go in the ",(0,r.jsx)(n.code,{children:"tests/"})," folder."]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"pytest"})," to run tests:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pytest tests/\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Each function/module should have at least one test case."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"pull-request-process",children:"Pull Request Process"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Fork the repository."}),"\n",(0,r.jsx)(n.li,{children:"Create a new branch:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git checkout -b feature/your-feature-name\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"Make your changes and commit them:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'git commit -m "Add: brief description of change"\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsx)(n.li,{children:"Push to your fork:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git push origin feature/your-feature-name\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsxs)(n.li,{children:["Open a Pull Request:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Include a ",(0,r.jsx)(n.strong,{children:"clear title and description"})]}),"\n",(0,r.jsx)(n.li,{children:"Mention any relevant issue numbers"}),"\n",(0,r.jsx)(n.li,{children:"Request review if needed"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"thank-you",children:"Thank You"}),"\n",(0,r.jsx)(n.p,{children:"Thanks for helping improve the project! Your contributions make it better for everyone."}),"\n",(0,r.jsx)(n.h1,{id:"troubleshooting-guide",children:"Troubleshooting Guide"}),"\n",(0,r.jsx)(n.p,{children:"This guide helps you resolve common issues and understand how to debug problems in the Kafka-based face detection system."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,r.jsx)(n.h3,{id:"1-kafka-producer-not-connecting",children:"1. Kafka Producer not connecting"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Symptoms"}),": ",(0,r.jsx)(n.code,{children:"NoBrokersAvailable"})," or connection timeout"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Ensure Kafka is running (",(0,r.jsx)(n.code,{children:"docker compose ps"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:["Check that you're using the correct port (usually ",(0,r.jsx)(n.code,{children:"9092"})," or ",(0,r.jsx)(n.code,{children:"29092"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:["Ensure environment variables in ",(0,r.jsx)(n.code,{children:".env"})," are correct"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"2postgresql-insertion-fails",children:"2.PostgreSQL insertion fails"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Symptoms"}),": Connection refused, timeout, or no data appears in PostgreSQL"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Ensure PostgreSQL service is running (check with systemctl status postgresql or using Redback monitoring tools)"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Verify that insert_face_data() (or your database utility function) connects to the correct host, port, username, password, and database name"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Use psql CLI or pgAdmin to manually connect and verify if data is being inserted:"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"psql -h <host> -U <user> -d <database>\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"3-airflow-web-ui-is-blank-or-errors",children:"3. Airflow web UI is blank or errors"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Check Airflow logs using ",(0,r.jsx)(n.code,{children:"docker compose logs airflow"})]}),"\n",(0,r.jsxs)(n.li,{children:["Ensure ",(0,r.jsx)(n.code,{children:"FERNET_KEY"})," is set and consistent across all services"]}),"\n",(0,r.jsxs)(n.li,{children:["Run ",(0,r.jsx)(n.code,{children:"airflow db upgrade"})," and restart services"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"debugging-tips",children:"Debugging Tips"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"print()"})," logs or structured logging (",(0,r.jsx)(n.code,{children:"logging"}),", ",(0,r.jsx)(n.code,{children:"loguru"}),") in ",(0,r.jsx)(n.code,{children:"producer.py"})," and ",(0,r.jsx)(n.code,{children:"consumer.py"})]}),"\n",(0,r.jsx)(n.li,{children:"Enable Prometheus metrics and visualize with Grafana"}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"docker logs <container>"})," to inspect container output"]}),"\n",(0,r.jsxs)(n.li,{children:["Temporarily reduce ",(0,r.jsx)(n.code,{children:"frame_interval"})," to speed up testing"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,r.jsx)(n.h3,{id:"q-can-i-run-this-without-docker",children:"Q: Can I run this without Docker?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"A"}),": Yes, but it's not recommended unless necessary. Since all services (Kafka, PostgreSQL, RabbitMQ, Airflow) are already hosted on the Redback server, you only need to:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Set up a local Python environment (uv venv recommended)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"-Ensure your scripts connect to the Redback-hosted service URLs and ports"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Manually install Python dependencies (e.g., kafka-python, psycopg2, requests, etc.)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"q-how-do-i-connect-to-kafka-ui",children:"Q: How do I connect to Kafka UI?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"A"}),": Visit ",(0,r.jsx)(n.code,{children:"http://redback.it.deakin.edu.au:8080 "}),"\u2014 Kafka UI is hosted and running on the Redback server."]}),"\n",(0,r.jsxs)(n.p,{children:["If you're running it locally instead, the URL would be ",(0,r.jsx)(n.a,{href:"http://localhost:8080",children:"http://localhost:8080"}),"."]}),"\n",(0,r.jsxs)(n.h3,{id:"q-what-is-the-use-of-frame_interval",children:["Q: What is the use of ",(0,r.jsx)(n.code,{children:"frame_interval"}),"?"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"A"}),": It controls how frequently frames are processed. Higher values = fewer frames."]}),"\n",(0,r.jsx)(n.h3,{id:"q-how-do-i-add-another-consumer",children:"Q: How do I add another consumer?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"A"}),": Clone ",(0,r.jsx)(n.code,{children:"consumer.py"}),", give it a unique group ID, and run it in parallel."]}),"\n",(0,r.jsx)(n.h3,{id:"q-how-can-i-scale-this-in-production",children:"Q: How can I scale this in production?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"A"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Use Kafka partitions to parallelize message processing"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Deploy microservices with Kubernetes or Cloud Run"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Use a managed PostgreSQL service like Amazon RDS, Google Cloud SQL, or Supabase"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Monitor performance using Prometheus, Grafana, or Datadog"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"appendix-1",children:"Appendix"}),"\n",(0,r.jsx)(n.p,{children:"This section includes supporting materials such as definitions, external resources, and project version history."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"glossary",children:"Glossary"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Term"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Kafka"})}),(0,r.jsx)(n.td,{children:"A distributed event streaming platform used to handle real-time data feeds."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Producer"})}),(0,r.jsx)(n.td,{children:"A service or program that publishes data to Kafka topics."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Consumer"})}),(0,r.jsx)(n.td,{children:"A service or program that subscribes to Kafka topics to read and process messages."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Airflow"})}),(0,r.jsx)(n.td,{children:"A platform to programmatically author, schedule, and monitor workflows."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"PostgreSQL"})}),(0,r.jsx)(n.td,{children:"A relational SQL database used for storing face detection results."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Docker"})}),(0,r.jsx)(n.td,{children:"A platform for developing and running applications inside containers."})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://kafka.apache.org/documentation/",children:"Apache Kafka Documentation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://pjreddie.com/media/files/papers/YOLOv3.pdf",children:"YOLOv3 Paper"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.postgresql.org/docs/",children:"PostgreSQL Docs"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.docker.com/",children:"Docker Docs"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://airflow.apache.org/docs/",children:"Apache Airflow Docs"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://prometheus.io/docs/introduction/overview/",children:"Prometheus Docs"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"version-history",children:"Version History"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Version"}),(0,r.jsx)(n.th,{children:"Date"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"1.0"}),(0,r.jsx)(n.td,{children:"2024-04-15"}),(0,r.jsx)(n.td,{children:"Initial release with Kafka + YOLOv3 + MongoDB integration"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"1.1"}),(0,r.jsx)(n.td,{children:"2024-04-18"}),(0,r.jsx)(n.td,{children:"Docker Compose + Airflow integration"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"1.2"}),(0,r.jsx)(n.td,{children:"2024-04-22"}),(0,r.jsx)(n.td,{children:"Prometheus metrics and monitoring added"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"1.3"}),(0,r.jsx)(n.td,{children:"2024-04-25"}),(0,r.jsx)(n.td,{children:"Documentation and troubleshooting guide included"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"1.4"}),(0,r.jsx)(n.td,{children:"2025-04-22"}),(0,r.jsx)(n.td,{children:"Replaced MongoDB with PostgreSQL for result storage"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"1.5"}),(0,r.jsx)(n.td,{children:"2025-04-25"}),(0,r.jsx)(n.td,{children:"Migrated services to Deakin Redback server, removed local Docker"})]})]})]}),"\n",(0,r.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var i=s(96540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);