"use strict";(self.webpackChunkredback_documentation=self.webpackChunkredback_documentation||[]).push([[9690],{43489:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"project-1/vr/bike-setup","title":"bike-setup","description":"Last updated by \'16/05/2025\'","source":"@site/docs/project-1/vr/bike-setup.md","sourceDirName":"project-1/vr","slug":"/project-1/vr/bike-setup","permalink":"/redback-documentation/docs/project-1/vr/bike-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/Redback-Operations/redback-documentation/blob/main/docs/project-1/vr/bike-setup.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"outline-effect","permalink":"/redback-documentation/docs/project-1/vr/outline-effect"},"next":{"title":"bike-input-and-movement","permalink":"/redback-documentation/docs/project-1/vr/bike-input-and-movement"}}');var t=n(74848),c=n(28453);const r={sidebar_position:7},d="Bike Customization System \u2013 Architecture & Script Interaction",l={},o=[{value:"\ud83d\udce6 Hierarchy",id:"-hierarchy",level:2},{value:"<code>Bike</code> \u2013 (Attached to: <code>RoadBikeV5</code>)",id:"bike--attached-to-roadbikev5",level:3},{value:"<code>BikeSelector</code> \u2013 (Attached to: <code>Bikes</code>)",id:"bikeselector--attached-to-bikes",level:3},{value:"<code>SaveLoadBike</code> \u2013 (Attached to: <code>Bikes</code>)",id:"saveloadbike--attached-to-bikes",level:3},{value:"How They Work Together",id:"how-they-work-together",level:2},{value:"\ud83d\udd39 Initialization (<code>Start()</code> in <code>SaveLoadBike</code>)",id:"-initialization-start-in-saveloadbike",level:3},{value:"\ud83d\udd39 Customization Flow",id:"-customization-flow",level:3},{value:"\ud83d\udd39 Selection Flow",id:"-selection-flow",level:3}];function a(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Last updated by:"})," \u041e\u0440\u0433\u0438\u043b-\u042d\u0440\u0434\u044d\u043d\u044d, ",(0,t.jsx)(i.strong,{children:"Last updated on:"})," '16/05/2025'"]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Last updated by:"})," \u041e\u0440\u0433\u0438\u043b-\u042d\u0440\u0434\u044d\u043d\u044d, ",(0,t.jsx)(i.strong,{children:"Last updated on:"})," '16/05/2025'"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"bike data setup",src:n(43567).A+"",width:"665",height:"1323"})}),"\n",(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"bike-customization-system--architecture--script-interaction",children:"Bike Customization System \u2013 Architecture & Script Interaction"})}),"\n",(0,t.jsxs)(i.p,{children:["This document describes how the bike customization and selection system works across three Unity scripts: ",(0,t.jsx)(i.code,{children:"BikeSelector"}),", ",(0,t.jsx)(i.code,{children:"SaveLoadBike"}),", and ",(0,t.jsx)(i.code,{children:"Bike"}),". These scripts operate within a GameObject hierarchy and allow players to view, customize, and persist different bike configurations."]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"-hierarchy",children:"\ud83d\udce6 Hierarchy"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"player gameobject hierarchy",src:n(95108).A+"",width:"266",height:"162"})}),"\n",(0,t.jsxs)(i.h3,{id:"bike--attached-to-roadbikev5",children:[(0,t.jsx)(i.code,{children:"Bike"})," \u2013 (Attached to: ",(0,t.jsx)(i.code,{children:"RoadBikeV5"}),")"]}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"Bike"})," class is the core data model and controller for a single bike instance."]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Handles:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Visual part customization (",(0,t.jsx)(i.code,{children:"SetPartColor"}),")"]}),"\n",(0,t.jsx)(i.li,{children:"IK setup for avatar alignment"}),"\n",(0,t.jsxs)(i.li,{children:["Spray paint interaction targets (",(0,t.jsx)(i.code,{children:"SetupSprayTargets"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["Export/import of configuration as ",(0,t.jsx)(i.code,{children:"BikeData"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Provides:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"ToBikeData()"})," \u2192 export current customization"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"LoadBikeData()"})," \u2192 apply saved customization"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsxs)(i.h3,{id:"bikeselector--attached-to-bikes",children:[(0,t.jsx)(i.code,{children:"BikeSelector"})," \u2013 (Attached to: ",(0,t.jsx)(i.code,{children:"Bikes"}),")"]}),"\n",(0,t.jsx)(i.p,{children:"Responsible for managing multiple bike prefabs"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Handles:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Switching between different bikes (",(0,t.jsx)(i.code,{children:"DisplayBike(int id)"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:["Tracking the currently active ",(0,t.jsx)(i.code,{children:"Bike"})," object (",(0,t.jsx)(i.code,{children:"CurrentBike"}),")"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Acts as a central registry and display handler for the bikes"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsxs)(i.h3,{id:"saveloadbike--attached-to-bikes",children:[(0,t.jsx)(i.code,{children:"SaveLoadBike"})," \u2013 (Attached to: ",(0,t.jsx)(i.code,{children:"Bikes"}),")"]}),"\n",(0,t.jsx)(i.p,{children:"Handles persistent save/load and selection logic."}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"At startup:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Loads the last selected bike index via ",(0,t.jsx)(i.code,{children:"PlayerPrefs"})]}),"\n",(0,t.jsx)(i.li,{children:"Displays and loads the saved customization"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"When selecting a bike:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Updates ",(0,t.jsx)(i.code,{children:"PlayerPrefs"})]}),"\n",(0,t.jsx)(i.li,{children:"Loads customization data from JSON"}),"\n",(0,t.jsxs)(i.li,{children:["Subscribes to ",(0,t.jsx)(i.code,{children:"Bike.OnBikeDataChange"})," to auto-save"]}),"\n",(0,t.jsxs)(i.li,{children:["Invokes ",(0,t.jsx)(i.code,{children:"onBikeSelected"})," callback"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Saves changes to: ",(0,t.jsx)(i.code,{children:'PlayerPrefs.SetString("Bike_{id}", json)'})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"how-they-work-together",children:"How They Work Together"}),"\n",(0,t.jsxs)(i.h3,{id:"-initialization-start-in-saveloadbike",children:["\ud83d\udd39 Initialization (",(0,t.jsx)(i.code,{children:"Start()"})," in ",(0,t.jsx)(i.code,{children:"SaveLoadBike"}),")"]}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:'PlayerPrefs.GetInt("SelectedBike")'})," retrieves the last selected bike ID."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"DisplayBike(id)"})," uses ",(0,t.jsx)(i.code,{children:"BikeSelector"})," to show the correct bike."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"LoadBikeData(id)"})," fetches saved JSON and applies it to the ",(0,t.jsx)(i.code,{children:"Bike"}),"."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"-customization-flow",children:"\ud83d\udd39 Customization Flow"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"User paints or customizes a part."}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"Bike.SetPartColor()"})," updates the material."]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["If ",(0,t.jsx)(i.code,{children:"save=true"}),", the bike:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Converts the new state to ",(0,t.jsx)(i.code,{children:"BikeData"})]}),"\n",(0,t.jsxs)(i.li,{children:["Triggers ",(0,t.jsx)(i.code,{children:"OnBikeDataChange"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"SaveLoadBike.SaveBikeData()"})," is automatically called"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"-selection-flow",children:"\ud83d\udd39 Selection Flow"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"SelectBike()"}),":"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Updates selection in ",(0,t.jsx)(i.code,{children:"PlayerPrefs"})]}),"\n",(0,t.jsxs)(i.li,{children:["Calls ",(0,t.jsx)(i.code,{children:"onBikeSelected"})," to notify listeners"]}),"\n",(0,t.jsxs)(i.li,{children:["Ensures the selected ",(0,t.jsx)(i.code,{children:"Bike"})," is subscribed for auto-save"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,c.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},43567:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/bike_data_setup-771867a70b22f7fd50325fbc9aa7e775.png"},95108:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/player_game_object_hierarcht-98e9604c57ca592807681902c48c2ac8.png"},28453:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>d});var s=n(96540);const t={},c=s.createContext(t);function r(e){const i=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(c.Provider,{value:i},e.children)}}}]);